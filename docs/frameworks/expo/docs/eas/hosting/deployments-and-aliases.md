# デプロイメントとエイリアス

EAS Hostingのデプロイメントとエイリアスの管理方法を説明します。

## デプロイメントの特性

### イミュータブル（不変）
- デプロイメントは作成後に変更できません
- 各デプロイメントには一意のURLがあります
- 一意のデプロイメントIDで識別されます

### URL構造

プレビューサブドメイン名により、各プロジェクトに一意のURLが作成されます：

```
https://my-app--or1170q9ix.expo.app/
```

- `my-app`: プレビューサブドメイン名（グローバルに一意）
- `or1170q9ix`: デプロイメントID
- `.expo.app`: EAS Hostingドメイン

## エイリアス

### エイリアスとは

エイリアスを使用すると、デプロイメント用のカスタムURLを作成できます。

### エイリアスの作成

```bash
eas deploy --alias hello
```

これにより以下のURLが作成されます：
```
https://my-app--hello.expo.app/
```

### エイリアスの特性

- **プロジェクトごとに一意**: 各プロジェクト内でエイリアス名は一意である必要があります
- **複数のエイリアス**: 1つのデプロイメントに複数のエイリアスを割り当てることができます
- **柔軟な命名**: 意味のある名前を使用してデプロイメントを識別できます

### エイリアスの使用例

```bash
# 機能ブランチのデプロイ
eas deploy --alias feature-auth

# ステージング環境
eas deploy --alias staging

# テスト環境
eas deploy --alias test-v2
```

## プロダクションデプロイメント

### プロダクションへの昇格

デプロイメントをプロダクションに昇格：

```bash
eas deploy --prod
```

### プロダクションURL

プロダクションURLの形式：
```
https://my-app.expo.app/
```

プロダクションURLはデプロイメントIDを含まない、クリーンなURLになります。

## 用語集

### プレビューサブドメイン名
- グローバルに一意のプレフィックス
- プロジェクト作成時に選択
- すべてのデプロイメントURLのベース

### デプロイメントID
- 各デプロイメントの一意の識別子
- 自動生成される短い文字列
- URLに含まれる（エイリアスまたはプロダクション以外）

### エイリアス
- ユーザー定義のカスタムURLセグメント
- デプロイメントの識別とアクセスを簡素化
- プロジェクト内で一意である必要がある

## 重要な注意事項

### 専用IPアドレスなし

EAS Hostingは専用IPアドレスを提供せず、SNI（Server Name Indication）を使用します。これは：
- 最新のブラウザとツールでサポートされています
- ほとんどのユースケースで十分です
- コスト効率が良く、スケーラブルです

## ベストプラクティス

1. **意味のあるエイリアス**: 環境や機能を明確に示すエイリアス名を使用
2. **プロダクション保護**: プロダクションへの昇格前に十分にテスト
3. **デプロイメント履歴**: エイリアスを使用してデプロイメント履歴を管理
4. **チームコミュニケーション**: エイリアス命名規則をチーム内で共有

## 次のステップ

- [環境変数の設定](/frameworks/expo/docs/eas/hosting/environment-variables)
- [カスタムドメインの設定](/frameworks/expo/docs/eas/hosting/custom-domain)
- [ワークフローでのデプロイ自動化](/frameworks/expo/docs/eas/hosting/workflows)
