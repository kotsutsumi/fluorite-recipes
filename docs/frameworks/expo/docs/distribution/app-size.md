# アプリサイズを理解する

ユーザーに配信される際のアプリの実際のサイズを決定する方法と、アプリサイズに関する洞察を取得して最適化する方法を学びます。

## なぜアプリがこんなに大きいのですか？

おそらくそうではありません！リリースビルドの成果物を調べるとき、開発者はしばしばファイルサイズに驚きます。これらのビルドは通常、複数のデバイスタイプのコードとリソースが含まれているため、大きくなります。

## Androidアプリ

### `.apk`（Androidパッケージ）

Gradleを使用してAPKをビルドする場合、デフォルトはすべてのデバイスタイプ、画面サイズ、CPUアーキテクチャ、および言語のリソースを含むユニバーサルバイナリです。

### `.aab`（Android App Bundle）

Play Storeに送信されるすべての新しいアプリは、Android App Bundleを使用する必要があります。ストアは各ユーザーのデバイスに対してカスタムバイナリを生成します。

### Androidアプリのダウンロードとインストールサイズを決定する

最終的なアプリサイズを確認する最も正確な方法は：
- アプリをストアにアップロードする
- 物理デバイスでダウンロードする
- Google Play Developer Consoleを確認する

## iOSアプリ

### `.app`（iOSアプリケーションバンドル）

アプリのアプリケーションバンドルで、通常はiOSシミュレーターで使用されます。サイズは必ずしもストアのダウンロードサイズを示すものではありません。

### `.ipa`（iOS App Storeパッケージ）

アプリバンドルと配信リソースを含むZIPファイルです。App Storeはこれをデバイス固有のバイナリに分割します。

### iOSアプリのダウンロードとインストールサイズを決定する

最良の方法：
- App Storeにアップロードする
- 物理デバイスでダウンロードする
- App Store ConnectでTestFlightを確認する

## アプリサイズの最適化

### 静的アセット

サイズの肥大化の一般的な原因には以下が含まれます：
- フォント
- アイコン
- 画像
- ビデオ
- サウンド

### JavaScriptバンドルサイズ

[Expo Atlas](/guides/analyzing-bundles)を使用してバンドルサイズを分析し、不要なライブラリを特定します。

### プラットフォーム固有の最適化

公式プラットフォームのガイドラインを参照してください：
- [Android Developers: アプリサイズを削減する](https://developer.android.com/topic/performance/reduce-apk-size)
- [Apple Developer: アプリのサイズを削減する](https://developer.apple.com/documentation/xcode/reducing-your-app-s-size)
