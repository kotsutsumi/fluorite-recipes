# Expo GitHub Appからビルドをトリガー

## 前提条件

### eas.jsonの`image`フィールドを設定

設定例：
```json
{
  "build": {
    "production": {
      "android": {
        "image": "latest"
      },
      "ios": {
        "image": "latest"
      }
    }
  }
}
```

### ローカルマシンから成功したビルドを実行

要件：
- 各プラットフォームで`eas build`をローカルで正常に実行
- ExpoユーザーがGitHubアカウントとリンクされている
- Expo GitHubアプリの権限を受け入れる

## GitHub向けのアプリ設定

### GitHubリポジトリをExpoプロジェクトにリンク

手順：
1. プロジェクトのGitHub設定にアクセス
2. Expo GitHubアプリをインストール
3. リポジトリをExpoプロジェクトにリンク
   - 注：組織リポジトリのみリンク可能

### リポジトリ設定の構成

Expoプロジェクトがサブディレクトリにある場合、プロジェクト設定で「ベースディレクトリ」を指定します。

## GitHubからビルドをトリガー

### Expo Webサイトを使用したビルド

- 「Build from GitHub」ボタンをクリック
- 選択：
  - Gitリファレンス（ブランチ/コミット/タグ）
  - プラットフォーム
  - ビルドプロファイル
  - オプション：ベースディレクトリ

### GitHub PRラベルを使用したビルド

以下のようなラベルを追加してビルドをトリガー：
- `eas-build-android`: Android本番ビルド
- `eas-build-ios`: iOS本番ビルド
- `eas-build-all`: 全プラットフォームのビルド

### コードがプッシュされたときに自動ビルド

#### ビルドトリガーのセットアップ

以下に対する自動ビルドを設定：
- ブランチ
- プルリクエスト
- Gitタグ

機能には以下が含まれます：
- ワイルドカードマッチング
- プラットフォーム固有のトリガー
- ビルドプロファイル選択

#### アプリストアへの自動提出

ビルド完了後にアプリをストアに自動提出するオプション。

### トラブルシューティング

- エラーの詳細についてはビルドコメントを確認
- 前提条件を検証
- ベースディレクトリを確認
- eas.jsonのビルドプロファイルを検証
