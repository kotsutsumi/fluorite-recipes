# アセットの最適化

## 概要

EAS Updateは新しいアップデートを検出するとアセットをダウンロードします。目標はダウンロードサイズを最小化することです。

## アセット最適化戦略

### 1. コードアセット

- バンドルされたアップデートは`dist/bundles`に表示
- BrotliとGzip圧縮でファイルサイズを削減

### 2. 画像アセット

#### expo-optimizeの使用

```bash
npx expo-optimize
```

#### 圧縮品質の調整

```bash
npx expo-optimize --quality 90
```

## 重要な考慮事項

### アセットの明示的な要求

- コード内で明示的に要求されたアセットのみアップロード
- 新規または更新されたアセットのみダウンロード

### 大きなアセットの追加時

**ベストプラクティス**: 大きなまたは複数のアセットを追加する場合はアプリストアビルドを作成し、小さなバグ修正やマイナーな変更にはアップデートを使用。

## 最適化コマンド例

```bash
# エクスポート
npx expo export

# 最適化
npx expo-optimize

# 品質指定での最適化
npx expo-optimize --quality 90
```

## 推奨事項

1. 大きなアセット追加時はアプリストアビルドを使用
2. 小さなバグ修正にアップデートを使用
3. 定期的にアセットを最適化
4. ダウンロードサイズを監視
