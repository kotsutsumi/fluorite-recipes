# ランタイムバージョンとアップデート

## 概要

ランタイムバージョンは、ビルドのネイティブコードとアップデート間の互換性を保証します。

## ランタイムバージョンポリシー

### 1. 自動ポリシー

```json
{
  "expo": {
    "runtimeVersion": {
      "policy": "appVersion"
    }
  }
}
```

または:

```json
{
  "expo": {
    "runtimeVersion": {
      "policy": "fingerprint"
    }
  }
}
```

### 2. カスタム手動バージョン

```json
{
  "expo": {
    "runtimeVersion": "1.0.0"
  }
}
```

### 3. プラットフォーム固有バージョン

```json
{
  "expo": {
    "runtimeVersion": "1.0.0",
    "android": {
      "runtimeVersion": {
        "policy": "appVersion"
      }
    }
  }
}
```

## 互換性のないアップデートの回避

### 戦略

1. **自動ポリシーの使用**: ネイティブコード変更時に自動的に更新
2. **手動インクリメント**: ネイティブコードのインストール/更新時に手動でインクリメント
3. **段階的ロールアウト**: アップデートを徐々にロールアウト
4. **手動検証**: 小規模なユーザーグループでアップデートを手動で検証

## ベストプラクティス

- ネイティブ依存関係の変更時にランタイムバージョンを更新
- 一貫性のあるバージョン管理戦略を使用
- 互換性をテストしてからデプロイ
