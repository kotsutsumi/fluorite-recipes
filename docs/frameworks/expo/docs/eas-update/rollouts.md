# ロールアウト

## 概要

ロールアウトにより、アップデートをユーザーの一部に段階的にデプロイし、完全リリース前に潜在的な問題をキャッチできます。

## アップデートごとのロールアウト

### ロールアウトの開始

```bash
eas update --rollout-percentage=10
```

10%のユーザーのみが利用可能なアップデートを公開します。

### 進行

```bash
eas update:edit
```

対話的にロールアウト率を調整します。

### ロールアウトの終了

**完全ロールアウト**: パーセンテージを100%に設定
**復帰**: `eas update:revert-update-rollout`を実行

### 追加の注意事項

- ブランチ上で同時にロールアウトできるアップデートは1つのみ
- 新しいアップデートを公開する前にロールアウトを終了する必要がある
- `eas update:list`または`eas update:view`でロールアウト状況を確認

## ブランチベースのロールアウト

### 開始

```bash
eas channel:rollout
```

対話的ガイドでチャネル、ブランチ、ロールアウト率を選択します。

### 終了

**再公開して復帰**: 最新のアップデートを古いブランチに再公開
**復帰**: 新しいブランチのアップデートを破棄

### 追加の注意事項

- チャネル上で同時にロールアウトできるブランチは1つのみ
- ロールアウト中とcurrentブランチの両方にアップデートを公開可能
- ロールアウト中は`eas update --channel`を使用できない

## ベストプラクティス

1. 小さいパーセンテージから開始（5-10%）
2. メトリクスとエラーを監視
3. 問題がなければ徐々に増加
4. 問題があればすぐに復帰
