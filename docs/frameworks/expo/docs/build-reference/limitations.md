# EAS Buildの制限事項

EAS Buildの現在の制限事項について学びます。

* * *

EAS Buildは、あらゆるReact Nativeプロジェクトで動作するように設計されています。ただし、アプリケーションでサービスを使用できない場合や、不便を引き起こす可能性がある特定の制限事項を認識しておくことは良いことです。これらの制限事項に対処する予定です。

## ビルドワーカーサーバーの固定メモリとCPU制限

ビルドプロセスが大量のメモリを必要とする場合、利用可能なリソースがアプリをビルドするのに不十分である可能性があります。この場合、eas.jsonで[`large`リソースクラス](/eas/json#resourceclass)の使用を検討してください。[Android固有のリソースクラス](/build-reference/infrastructure#android-build-server-configurations)および[iOS固有のリソースクラス](/build-reference/infrastructure#ios-build-server-configurations)を参照してください。

[サーバーインフラストラクチャリファレンス](/build-reference/infrastructure)で詳細を確認してください。AndroidおよびiOSビルドサーバーの現在の仕様に関する最新情報が含まれています。

## 限定的な依存関係キャッシュ

Androidのビルドジョブは、ローカルキャッシュからnpmおよびMaven依存関係をインストールします。iOSのビルドジョブは、ローカルキャッシュからnpm依存関係を、キャッシュサーバーからCocoaPodsアーティファクトをインストールします。

node_modulesディレクトリなどの中間アーティファクトは、キャッシュおよび復元されません（例：package-lock.jsonまたはyarn.lockに基づいて）が、Gitリポジトリにコミットすると、ビルドサーバーにアップロードされます。

詳細については、[依存関係のキャッシュ](/build-reference/caching)を参照してください。

## 最大ビルド時間は2時間

ビルドの実行に2時間以上かかる場合、キャンセルされます。この制限は無料プランではさらに低く、将来変更される可能性があります。

### ビルド時間を短縮するためのヒント

1. **リソースクラスのアップグレード**: `large`または`m-large`を使用
2. **依存関係の最適化**: 不要な依存関係を削除
3. **キャッシュの活用**: 依存関係のキャッシュを有効化
4. **並列ビルド**: 可能な場合は並列処理を有効化
5. **増分ビルド**: 変更されたコードのみをビルド

## アカウントごとプラットフォームごとの保留中のビルドの最大数は50

プラットフォームで50を超える保留中のビルドがある場合、保留中のビルドの数が制限を下回るまで、新しいビルドは拒否されます。

### 保留中のビルドを管理する

```bash
# 保留中のビルドを確認
eas build:list --status pending

# 不要なビルドをキャンセル
eas build:cancel --id <build-id>

# 複数のビルドを一括キャンセル
eas build:cancel --platform android --status pending
```

## ワークスペースをサポートするパッケージマネージャーは特別なセットアップが必要な場合がある

> 注意：Bun、npm、pnpm、Yarn以外のパッケージマネージャーの公式ガイダンスは限定的です。

EAS Buildは、ワークスペースをサポートするパッケージマネージャーで管理されるモノレポをサポートしています。

### サポートされているパッケージマネージャー

- **npm**: workspaces機能を使用
- **Yarn 1 (Classic)**: workspaces機能を使用
- **Yarn 2+**: workspaces機能を使用
- **pnpm**: workspaces機能を使用
- **Bun**: workspaces機能を使用（実験的）

### モノレポのセットアップ

詳細については、[モノレポでのビルド](/build-reference/build-with-monorepos)を参照してください。

## その他の制限事項

### Windowsはローカルビルドでサポートされていない

`eas build --local`フラグはmacOSとLinuxでのみサポートされています。Windowsユーザーは、EASクラウドビルドを使用する必要があります。

### カスタムネイティブコードの制限

完全にカスタムのネイティブコードを使用する場合、一部の機能が制限される可能性があります：

1. **自動設定**: 一部の設定は手動で行う必要があります
2. **アップグレード**: SDKアップグレードにより多くの手動作業が必要
3. **互換性**: Expo SDKとの互換性を維持する必要があります

### ネットワーク制限

ビルド中のネットワークアクセスには制限があります：

1. **外部サービス**: ビルド中に外部APIへのアクセスが必要な場合は、タイムアウトを適切に設定
2. **プライベートリポジトリ**: プライベートGitリポジトリへのアクセスには適切な認証が必要
3. **ファイアウォール**: 特定のIPアドレスからのアクセスが必要な場合は、[ビルダーIPアドレス](https://expo.dev/eas-build-worker-ips.txt)を確認

## プラン別の制限

### 無料プラン

- **ビルド時間**: 最大30分
- **同時ビルド**: 1
- **優先度**: 低
- **リソースクラス**: 標準のみ

### プロプラン

- **ビルド時間**: 最大2時間
- **同時ビルド**: 複数（プランによる）
- **優先度**: 高
- **リソースクラス**: すべて利用可能

## 回避策とベストプラクティス

### 大規模プロジェクト

1. **モジュール分割**: プロジェクトを小さなモジュールに分割
2. **選択的ビルド**: 必要なプラットフォームのみをビルド
3. **段階的移行**: 大規模な変更は段階的に実施

### パフォーマンス最適化

1. **ビルド時間の監視**: 各ビルドの時間を追跡
2. **ボトルネックの特定**: ログを分析してボトルネックを見つける
3. **継続的な改善**: 定期的にビルドプロセスを最適化

## フィードバックとサポート

制限事項について質問や懸念がある場合：

1. **ドキュメント**: [Expo ドキュメント](https://docs.expo.dev/)を確認
2. **コミュニティ**: [Expo Discord](https://chat.expo.dev/)に参加
3. **サポート**: [Expo サポート](https://expo.dev/support)に連絡
4. **フィードバック**: [Expo Canny](https://expo.canny.io/)で機能リクエストを投稿

これらの制限事項を理解し、適切な回避策を実装することで、EAS Buildを効果的に使用できます。
