# iOSシミュレーター用のビルド

EAS Buildを使用する際に、iOSシミュレーター用のビルドを設定してインストールする方法を学びます。

---

iOSシミュレーターでアプリのビルドを実行することは便利です。ビルドプロファイルを設定して、シミュレーターにビルドを自動的にインストールできます。これにより、TestFlight にデプロイしたり、Apple Developerアカウントを持たなくても、Expo Goから独立したスタンドアロン版のアプリを実行できます。

## シミュレーター用のビルドを行うプロファイルの設定

iOSシミュレーターにアプリのビルドをインストールするには、[eas.json](/build/eas-json)のビルドプロファイルを変更して、`ios.simulator`の値を`true`に設定します：

```json
{
  "build": {
    "preview": {
      "ios": {
        "simulator": true
      }
    },
    "production": {}
  }
}
```

次に、以下のようにコマンドを実行してビルドを実行します：

```
eas build -p ios --profile preview
```

プロファイルには好きな名前を付けることができます。上記の例では`preview`という名前ですが、`local`、`simulator`、または最も意味のある名前を付けることができます。

## シミュレーターへのビルドのインストール

> 以前にiOSシミュレーターをインストールまたは実行したことがない場合は、続行する前に[iOSシミュレーターガイド](/workflow/ios-simulator)に従ってください。

ビルドが完了すると、CLIは自動的にダウンロードしてiOSシミュレーターにインストールするように求めます。プロンプトが表示されたら、Yを押してシミュレーターに直接インストールします。

複数のビルドがある場合、`eas build:run`コマンドをいつでも実行して、特定のビルドをダウンロードし、iOSシミュレーターに自動的にインストールすることもできます：

```
eas build:run -p ios
```

このコマンドは、プロジェクトの利用可能なビルドのリストも表示します。このリストからシミュレーターにインストールするビルドを選択できます。リスト内の各ビルドには、ビルドID、ビルド作成からの経過時間、ビルド番号、バージョン番号、gitコミット情報があります。プロジェクトに無効なビルドがある場合、リストにはそれらも表示されます。

たとえば、下の画像は、プロジェクトの2つの以前のビルドをリストしています：

## Xcodeシミュレーターでの実行

シミュレータービルドをインストールしたら、Xcodeシミュレーターを開いてアプリを実行します：

1. Xcodeを開く
2. メニューから「Xcode」→「Open Developer Tool」→「Simulator」を選択
3. インストールされたアプリがホーム画面に表示されます
4. アプリのアイコンをタップして起動

## 複数のシミュレーターでのテスト

異なるiOSバージョンやデバイスタイプでアプリをテストするには：

```bash
# 利用可能なシミュレーターをリスト
xcrun simctl list devices

# 特定のシミュレーターでアプリを起動
xcrun simctl boot "iPhone 15 Pro"
xcrun simctl install booted path/to/your-app.app
xcrun simctl launch booted com.yourcompany.yourapp
```

これにより、Apple Developerアカウントなしでアプリの完全な動作確認が可能になります。
