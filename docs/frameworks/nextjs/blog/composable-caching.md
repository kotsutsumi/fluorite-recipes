# Next.jsでの構成可能なキャッシング

**公開日**: 2025年1月3日(金曜日)

**著者**: Lee Robinson (@leerob)

## `'use cache'`の紹介

Next.jsの新しいキャッシングディレクティブ:

- データやコンポーネントをキャッシュしてアプリケーションを高速化
- `'use client'`や`'use server'`などのReactディレクティブと同様

## 動作原理

`'use cache'`ディレクティブを持つコードをコンパイラが変換:

- キャッシュの依存関係を自動的に決定
- 例:

```javascript
async function getUser(id) {
  'use cache';
  let res = await fetch(`https://api.vercel.app/user/${id}`);
  return res.json();
}
```

## 主な利点

- キャッシュキーの依存関係を自動的に処理
- キャッシュの衝突を防止
- 複雑なクロージャーと入力値を安全に管理
- ランタイムキャッシングソリューションと比較して静的に分析可能

## シリアライズ不可能な入力の処理

2種類の入力値タイプをサポート:

1. **シリアライズ可能**: 安定した文字列形式に変換可能
2. **シリアライズ不可能**: サーバー「参照」に置き換えられる

## 実験的ステータス

現在、Next.jsの実験的機能です。シンプルで強力なキャッシングメカニズムを提供することを目指しています。

このブログ記事は、新しい`'use cache'`ディレクティブの詳細な技術的説明を提供し、Next.jsアプリケーションでキャッシング戦略を簡素化および改善する可能性を示しています。
