# レイアウトRFC

**投稿日**: 2022年5月23日（月曜日）

**著者**: Delba de Oliveira、Lee Robinson、Sebastian Markbåge、Tim Neutkens

## 概要

このRFC（Request for Comment）は、Next.jsルーティングの主要な更新を概説しています：

- ネストされたレイアウト
- サーバーコンポーネント
- 改善されたデータフェッチ
- React 18機能
- クライアントとサーバーのルーティング
- 100%段階的に採用可能
- 高度なルーティングパターン

## 主なハイライト

### 動機

チームは、現在のルーティングの制限に関するコミュニティのフィードバックを収集し、以下に焦点を当てました：

- レイアウト作成体験の改善
- ダッシュボードやコンソール用のより複雑なルーティングのサポート
- Reactの未来と整合した下位互換性のあるシステムの作成

### 新しい`app`ディレクトリ

既存の`pages`ディレクトリと並行して動作する新しいディレクトリで、新しいルーティング機能の段階的な採用を可能にします。

### ルーティング規則

- フォルダー階層で定義されたルート
- `layout.js`、`page.js`などの新しいファイル規則
- デフォルトとしてのサーバーコンポーネント
- ネストされたレイアウトとルートセグメント

### 高度な機能

- 並列ルート
- ルートのインターセプト
- 即座のローディング状態
- エラーバウンダリ
- サーバー中心のルーティング

## 技術的詳細

RFCでは、新しいルーティングシステムがどのように機能するかについて、以下を含む広範なコード例と技術的説明を提供しています：

- サーバーとクライアントコンポーネントの相互作用
- データフェッチ戦略
- ルートグループの整理
- ルーティングパフォーマンスの改善

## 結論

チームは、Next.jsにおけるレイアウト、ルーティング、React 18の未来に興奮しており、実装作業はすでに進行中です。
