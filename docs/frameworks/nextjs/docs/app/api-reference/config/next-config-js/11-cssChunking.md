# cssChunking

この機能は現在実験的であり、変更される可能性があるため、本番環境での使用は推奨されません。試してみて、[GitHub](https://github.com/vercel/next.js/issues)でフィードバックを共有してください。

CSSチャンキングは、CSSファイルをチャンクに分割して並べ替えることで、Webアプリケーションのパフォーマンスを向上させるために使用される戦略です。これにより、アプリケーションのすべてのCSSを一度に読み込むのではなく、特定のルートに必要なCSSのみを読み込むことができます。

`next.config.js` ファイルの `experimental.cssChunking` オプションを使用して、CSSファイルのチャンキング方法を制御できます：

```typescript
import type { NextConfig } from 'next'

const nextConfig = {
  experimental: {
    cssChunking: true, // デフォルト
  },
} satisfies NextConfig

export default nextConfig
```

## オプション

- **`true`（デフォルト）**: Next.jsは可能な限りCSSファイルをマージしようとし、ファイル間の明示的および暗黙的な依存関係をインポート順序から判断して、チャンクの数とリクエスト数を削減します。
- **`false`**: Next.jsはCSSファイルのマージや並べ替えを試みません。
- **`'strict'`**: Next.jsはファイルにインポートされた正しい順序でCSSファイルを読み込みますが、これによりより多くのチャンクとリクエストが発生する可能性があります。

予期しないCSS動作が発生した場合は、`'strict'` の使用を検討してください。例えば、異なるファイルで `a.css` と `b.css` を異なる `import` 順序で（`a` の前に `b`、または `b` の前に `a`）インポートする場合、`true` は任意の順序でファイルをマージし、それらの間に依存関係がないと仮定します。ただし、`b.css` が `a.css` に依存している場合は、`'strict'` を使用してファイルがマージされないようにし、代わりにインポートされた順序で読み込むことができます - これによりより多くのチャンクとリクエストが発生する可能性があります。

ほとんどのアプリケーションでは、リクエスト数が少なく、パフォーマンスが向上するため、`true` をお勧めします。
