# Package GraphとTask Graph

## Package Graph

Package Graphは、パッケージマネージャーによって作成されたモノレポの依存関係構造を表します。内部パッケージが互いにインストールされると、Turborepoはこれらの依存関係を自動的に識別してワークスペースを理解します。

## Task Graph

`turbo.json`で、開発者はタスクが互いにどのように関連しているかを表現します。Turborepoは、有向非巡回グラフ（DAG）を使用してこれらのタスクの依存関係をモデル化します。

### 主な特徴

- ノードはタスクを表します
- エッジはタスク間の依存関係を表します
- 有向グラフは、タスクの依存関係が特定の方向を持つことを意味します

### 例

次のようなモノレポを考えてみましょう：
- `./apps/web`にWebアプリ
- パッケージ：`@repo/ui`と`@repo/utils`
- `"dependsOn": ["^build"]`で設定された`build`タスク

Turborepoは、これらのコンポーネントがどのように相互接続されているかを示すタスクグラフを作成します。

### Transit Nodes

Transit Nodesは、独自のタスク実装を持たないが、依存関係チェーンの一部であるパッケージです。例えば：
- `ui`パッケージに依存する`docs`アプリ
- `core`パッケージに依存する`ui`パッケージ
- 一部のパッケージには特定のタスク（`build`など）がない場合があります

#### Transit Nodesの動作

- 依存関係追跡のためにグラフに含まれます
- 特定のスクリプトが存在しない場合、タスクは実行されません
- ネストされた依存関係の解決に役立ちます

### 重要な考慮事項

- TurborepoはTask Graph内のすべてのノードを同等に扱います
- Transit Nodesはグラフ内の位置に関係なく含まれます
- 予期しないタスク実行シナリオにつながる可能性があります

### 視覚化

開発者は、タスクを実行するときに`--graph`フラグを使用してタスクグラフの視覚化を生成できます。

このドキュメントは、複雑なモノレポタスクの依存関係を効果的に管理するために、これらのグラフ構造を理解することの重要性を強調しています。
