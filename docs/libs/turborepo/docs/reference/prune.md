# prune

ターゲットパッケージの部分的なモノレポを生成します。

## 概要

`prune` コマンドは、ターゲットパッケージの部分的なモノレポを生成し、以下を含む `out` ディレクトリを作成します:

- ターゲットのビルドに必要な内部パッケージの完全なソースコード
- 必要な依存関係のみを含む剪定されたロックファイル
- ルート `package.json` のコピー

## 基本的な使用方法

```bash
turbo prune [package]
```

## 主要なオプション

### `--docker`

- デフォルト: `false`
- Dockerレイヤーキャッシングのために出力を最適化
- 以下を作成:
  - `json` フォルダ: `package.json` ファイル
  - `full` フォルダ: ソースコード
  - 剪定されたロックファイル

### `--out-dir <path>`

- デフォルト: `./out`
- 出力ディレクトリをカスタマイズできます

### `--use-gitignore[=<bool>]`

- デフォルト: `true`
- ファイルをコピーする際に `.gitignore` を尊重します

## `pnpm deploy` との比較

- `turbo prune`: 部分的なモノレポを生成
- `pnpm deploy`: 自己完結型の `node_modules` を持つスタンドアロンパッケージディレクトリを作成

## 例

ドキュメントでは、`turbo prune frontend` が複雑なモノレポをどのように再構築し、`frontend` パッケージに必要なファイルと依存関係のみを分離するかの詳細な例が提供されています。
