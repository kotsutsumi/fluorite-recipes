# 比較

Jotaiは、Reactにおける余分な再レンダリングの問題を解決するために生まれました。余分な再レンダリングとは、レンダリングプロセスが同じUI結果を生成し、ユーザーが違いを見ることができない場合です。

この問題にReact context（useContext + useState）で対処するには、多くのcontextが必要になり、いくつかの問題に直面します。

* Providerの地獄：ルートコンポーネントに多くのcontext providerがある可能性が高い
* 動的な追加/削除：実行時に新しいcontextを追加することは、新しいproviderを追加する必要があり、その子要素が再マウントされるため、あまり良くない

伝統的に、これに対するトップダウンのソリューションは、セレクタ関数を使用することです。use-context-selectorライブラリはその一例です。このアプローチの問題は、セレクタ関数が再レンダリングを防ぐために参照的に等しい値を返す必要があり、これにはしばしばメモ化技術が必要になることです。

Jotaiは、Recoilに触発された原子モデルでボトムアップアプローチを採用しています。atomを組み合わせて状態を構築でき、atomの依存関係に基づいてレンダリングを最適化できます。これにより、メモ化の必要性を回避できます。

Jotaiには2つの原則があります。
* プリミティブ：基本APIは`useState`のようにシンプル
* 柔軟性：atomは別のatomを派生させ、グラフを形成できます。atomは別の任意のatomによって更新することもできます。これにより、複雑な状態モデルを抽象化できます。

## JotaiはReactのuseContextとどう違うのか？

Jotaiのコア APIはミニマルで、それに基づいてユーティリティを構築しやすくなっています。

### 比喩

Jotaiを`useContext`のドロップイン置き換えと見なすことができます。ただし、Jotaiはシンプルさ、ミニマルなAPIを目指しており、`useContext`と`useState`よりもはるかに多くのことができます。

### 使用法の違い

コード例は、ContextとJotaiでデータを共有する方法を示し、Jotaiの状態管理への簡素化されたアプローチを示しています。

## JotaiはZustandとどう違うのか？

### 名前
* Jotaiは日本語で「状態」を意味します
* Zustandはドイツ語で「状態」を意味します

### 比喩
* JotaiはRecoilのようなもの
* ZustandはReduxのようなもの

### 状態が存在する場所
* Jotai：context優先、モジュール設計
