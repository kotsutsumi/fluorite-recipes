# データベースに大きなオブジェクトまたはBLOBを保存

Optimizeは、データベースに大きなオブジェクトを保存することによって引き起こされるパフォーマンス問題を特定して解決するのに役立つ推奨事項を提供します。また、これらの課題を軽減するための代替アプローチを提案します。

以下のモデルは`Bytes`タイプを使用しています:

```
model User {
  id    Int    @id @default(autoincrement())
  name  String?
  // 生の画像データをデータベースに直接保存
  avatarBytes Bytes?
}
```

## 何が問題なのか？

データベースに大きなバイナリオブジェクト（画像など）を保存すると、いくつかの課題につながる可能性があります:

- **過剰なストレージ使用量**: 大きなオブジェクトはデータベース内で大量のスペースを占有し、管理を複雑にします。
- **I/O負荷の増加**: 大きなオブジェクトの処理は、データベースの入出力操作に負担を追加します。
- **クエリパフォーマンスの低下**: ほとんどの従来のデータベースは、大きなバイナリコンテンツを効率的に提供するように最適化されていないため、クエリまたは更新中にパフォーマンスの低下が発生します。

さらに、データベースに大きなオブジェクトを直接保存すると、バックアップが不釣り合いに大きくなり、復元プロセスに必要な時間が増加する可能性があります。データベースを介してこれらのファイルを提供することも、特に高トラフィックまたは頻繁なアクセスシナリオでパフォーマンスのボトルネックを引き起こします。
