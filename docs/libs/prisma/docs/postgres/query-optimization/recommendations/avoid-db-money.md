# @db.Moneyの使用

Optimizeは、`@db.Money`タイプの使用によって引き起こされるパフォーマンス問題を特定して解決するのに役立つ推奨事項を提供します。

## モデル例
```
model Item {
  // ...
  price Decimal @db.Money
  // ...
}
```

## 何が問題なのか？

PostgreSQLの`@db.Money`データタイプは、金額の保存には理想的ではありません。内部的に、`@db.Money`は整数として実装されており、速度は提供しますが柔軟性に欠けます。小数値と丸めを予期しない方法で処理するため、不正確さにつながる可能性があります。

さらに、`@db.Money`タイプは関連する通貨に関する情報を保存しません。代わりに、グローバルな`lc_monetary`ロケール設定に依存しますが、これはすべてのユースケースに適しているとは限りません。

詳細については、[PostgreSQLドキュメント](https://wiki.postgresql.org/wiki/Don't_Do_This#Don.27t_use_money)を参照してください。

`@db.Money`の主な問題:
- 整数として実装
- 金額計算の柔軟性の欠如
- 予測できない丸め動作
- 通貨情報の保存なし
- グローバルロケール設定に依存
