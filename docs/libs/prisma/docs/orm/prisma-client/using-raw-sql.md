# Raw SQLの使用

Prisma ORMは直感的なクエリAPIを提供することを目指していますが、Raw SQLが必要な場合があります。

## TypedSQL（Prisma 5.19.0以降）

.sqlファイルにSQLクエリを記述できます:

**利点**:
- 型安全なクエリ
- IDEサポート付き
- 複雑なレポートクエリに有用
- パフォーマンスクリティカルな操作
- データベース固有機能の活用

## リレーショナルデータベース用のRawクエリメソッド

1. **`$queryRaw`**: クエリを実行して結果を返す
2. **`$executeRaw`**: 結果を返さずにクエリを実行
3. **`$queryRawUnsafe`** と **`$executeRawUnsafe`**: 上記の安全でないバージョン

## MongoDB用のRawクエリメソッド

1. **`$runCommandRaw`**: データベースコマンドを実行
2. **`<model>.findRaw`**: フィルタに一致するドキュメントを検索
3. **`<model>.aggregateRaw`**: 集約操作を実行

## Raw SQLが必要な場合

- 特定のクエリパフォーマンスの最適化
- PrismaのクエリAPIで完全にサポートされていないデータ要件の処理

## 推奨アプローチ

可能な限り**TypedSQL**を使用してください。これは最も型安全で開発者フレンドリーなカスタムSQLクエリの記述体験を提供します。

## 重要な注意事項

- Prismaの標準クエリメソッドを優先
- 複雑または最適化されたクエリにRaw SQLを使用
- TypedSQLは完全なTypeScriptサポートを提供
