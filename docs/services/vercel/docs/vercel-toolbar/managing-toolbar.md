# Vercel Toolbarの可視性管理

## 概要

Vercel Toolbarは、すべてのVercelプランで利用可能で、開発者向けの様々なツールと機能を提供します。

## ツールバーの表示

有効にすると、ツールバーはメニューアイコン付きの円として表示されます。クリックすると有効化され、以下が表示されます：

- ページ上のコメント
- バックグラウンドツールの問題の通知
- 非アクティブ時の小さなVercelアイコン
- ツールを使用した後のメニューの横にある2つ目のアイコン

## ツールバー可視性管理方法

### 1. チーム全体のツールバー設定

すべてのチームプロジェクトでツールバーを無効にするには：

1. Vercelダッシュボードに移動
2. チームを選択
3. 「Settings」タブに移動
4. 「Vercel Toolbar」セクションを見つける
5. PreviewとProduction環境で「On」または「Off」を選択

### 2. プロジェクト全体のツールバー設定

特定のプロジェクトのツールバーを設定するには：

1. ダッシュボードでプロジェクトを選択
2. 「Settings」タブに移動
3. 「Vercel Toolbar」セクションを見つける
4. 各環境のオプションを設定：
   - Default：チーム設定に従う
   - On：ツールバーを有効化
   - Off：ツールバーを無効化

### 3. セッションのツールバー無効化

ツールバーを一時的に非表示にする方法：

- ツールバーを有効化し、「Disable for Session」を選択
- ツールバーアイコンを画面下部の「X」にドラッグ
- ブラウザ拡張機能を使用
- キーコマンドを使用

### 4. 自動化のための無効化

エンドツーエンドテストでツールバーの干渉を防ぐために、`x-vercel-skip-toolbar`ヘッダーを使用します。

### 5. ブランチ固有のツールバー制御

環境変数`VERCEL_PREVIEW_FEEDBACK_ENABLED`を設定：

- `1`：ツールバーを有効化
- `0`：ツールバーを無効化

### 6. カスタムドメインの考慮事項

カスタムエイリアスドメインを持つプレビューデプロイメントの場合、ダッシュボード設定で明示的にオプトインします。

## コンテンツセキュリティポリシー（CSP）設定

CSPを使用している場合、Vercel Toolbarアクセスを許可するようヘッダーを調整します。以下を含む：

- `script-src https://vercel.live`
- `connect-src https://vercel.live`
- `img-src https://vercel.live`
- その他いくつかのドメインとソース設定
