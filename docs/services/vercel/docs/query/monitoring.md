# モニタリング

## 概要

モニタリングは、「Vercel上のプロジェクトのパフォーマンスとトラフィックを可視化および定量化」できる機能です。EnterpriseおよびProプランのユーザーが利用できます。

## 主な機能

### モニタリングチャート

- クエリ結果を詳細に探索
- 日付、データの粒度、チャートタイプを調整
- ホバーして特定の時点のデータを表示

### クエリの保存

- 個人用（My Queries）とチーム用クエリが利用可能
- チームオーナー/メンバーのみがチームクエリにアクセス可能
- クエリの複製、名前変更、削除が可能

## 重要な注意事項

### サンセット告知

- Proプラン向けのモニタリングは2025年11月の次回請求サイクル終了時にサンセット予定
- Observability Queryへの移行を推奨

### アクセス要件

- オーナー、メンバー、または開発者ロールが必要
- EnterpriseおよびProプランで利用可能

## IPアドレスの可視性の管理

- EnterpriseおよびProプランで利用可能
- モニタリングクエリでIPアドレスを非表示にできる
- チームSettings > Security & Privacyでトグル

## 推奨される次のステップ

- サンプルクエリを使用
- カスタムクエリを作成
- 代替としてObservability Queryを探索

## 制限事項

- サンプルクエリの編集や新規追加はできない
- アクセスはユーザーロールとプランタイプに依存

## モニタリングの使用例

### トラフィックパターンの分析

1. ビジュアライズ句を「requests」に設定
2. 時間範囲を選択
3. トラフィックの傾向を観察

### エラーの追跡

1. ステータスコードでフィルタリング（5xx）
2. 時間経過に伴うエラー率を可視化
3. 影響を受けるエンドポイントを特定

### パフォーマンスの監視

1. 期間メトリックを使用
2. パーセンタイルを選択（p95、p99）
3. 遅いリクエストを特定

## Observability Queryへの移行

### 移行の理由

- より多くの機能
- より良いパフォーマンス
- 継続的なサポート
- 拡張された機能

### 移行手順

1. 既存のクエリを確認
2. Observability Queryで再作成
3. チームに新しいクエリを共有
4. 移行を検証

## ベストプラクティス

### クエリの整理

- 説明的な名前を使用
- 関連するクエリをグループ化
- ドキュメント化された目的

### パフォーマンスの最適化

- 適切な時間範囲を選択
- 必要なフィルタのみを使用
- データの粒度を考慮

### チームコラボレーション

- チームクエリを共有
- 命名規則を確立
- 定期的にレビュー

## トラブルシューティング

### データが表示されない

- 正しい時間範囲を選択していることを確認
- フィルタ設定を確認
- プロジェクトにトラフィックがあることを確認

### クエリが遅い

- 時間範囲を狭める
- フィルタを追加してデータを制限
- データの粒度を調整

## 次のステップ

- [モニタリングクイックスタート](/docs/query/monitoring/quickstart)を完了
- [モニタリングリファレンス](/docs/query/monitoring/monitoring-reference)を確認
- [Observability Query](/docs/query)に移行

## 関連リソース

- [クエリの概要](/docs/query)
- [可観測性](/docs/observability)
- [料金と制限](/docs/query/monitoring/limits-and-pricing)
