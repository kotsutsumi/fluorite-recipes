# プロバイダーの追加

Vercelの AI タブに移動すると、インストールされた AI 統合のリストが表示されます。インストールされた統合がない場合は、プロジェクトのニーズに最適な AI モデルとサービスを参照して接続できます。

## ネイティブ統合プロバイダーの追加

1. AI ダッシュボードページの右上にある「AI プロバイダーをインストール」ボタンを選択します。
2. マーケットプレイス AI プロバイダーのリストから、インストールするプロバイダーを選択し、「続行」をクリックします。
3. 利用可能なプランのリストからプランを選択します（前払いと後払いの両方のプランが含まれる場合があります）。
   * 前払いプランの場合：
     * プランを選択して「続行」をクリックすると、初期残高を設定できる「資金管理」画面に移動します。
     * 最大月間支出で自動チャージを有効にできます。

4. 「続行」をクリックし、インストールの名前を入力して「インストール」をクリックします。
5. インストール完了後、インストールの詳細ページに移動し、以下を行えます：
   * 「プロジェクトに接続」をクリックしてプロジェクトをリンク
   * さまざまな言語のクイックスタートに従ってインストールをテスト
   * 接続されているすべてのプロジェクトの表示
   * サービスの使用状況の表示

## 接続可能なアカウントプロバイダーの追加

統合がインストールされていない場合：

1. AI ダッシュボードページの右上にある「AI プロバイダーをインストール」ボタンを選択
2. マーケットプレイスからプロバイダーを選択
3. 「接続」をクリック
4. プロバイダーのウェブサイトで認証フローを完了
5. Vercelダッシュボードにリダイレクトされ、プロジェクトに接続できます

## プロバイダーをプロジェクトに接続

### ダッシュボードから

1. AI タブでプロバイダーを選択
2. 「プロジェクトに接続」をクリック
3. 接続するプロジェクトを選択
4. 「接続」をクリック

### コードから

環境変数を使用してプロバイダーに接続します：

```typescript
// OpenAI の例
import { openai } from '@ai-sdk/openai';
import { generateText } from 'ai';

const result = await generateText({
  model: openai('gpt-5'),
  prompt: 'Hello, world!',
});
```

## 環境変数の設定

プロバイダーをプロジェクトに接続すると、必要な環境変数が自動的に設定されます。手動で設定する場合は：

1. プロジェクトの設定に移動
2. 「Environment Variables」セクションを選択
3. プロバイダーのAPIキーを追加

```env
OPENAI_API_KEY=your-api-key-here
ANTHROPIC_API_KEY=your-api-key-here
```

## 複数のプロバイダーの使用

複数のプロバイダーを同時に使用できます：

```typescript
import { openai } from '@ai-sdk/openai';
import { anthropic } from '@ai-sdk/anthropic';
import { generateText } from 'ai';

// OpenAI を使用
const result1 = await generateText({
  model: openai('gpt-5'),
  prompt: 'Hello!',
});

// Anthropic を使用
const result2 = await generateText({
  model: anthropic('claude-sonnet-4'),
  prompt: 'Hello!',
});
```

## プロバイダーの管理

### 使用状況の確認

AI タブで、各プロバイダーの使用状況を確認できます：

- リクエスト数
- トークン使用量
- コスト
- エラー率

### プロバイダーの削除

1. AI タブでプロバイダーを選択
2. 「設定」をクリック
3. 「プロバイダーを削除」をクリック
4. 確認ダイアログで「削除」をクリック

## ベストプラクティス

### セキュリティ

- APIキーを環境変数に保存
- 本番環境と開発環境で異なるキーを使用
- 定期的にキーをローテーション

### コスト管理

- 使用状況を定期的に監視
- 予算アラートを設定
- 適切なモデルを選択

### パフォーマンス

- プロバイダーのレイテンシを比較
- フォールバック戦略を実装
- キャッシングを活用

## トラブルシューティング

### 接続エラー

**症状**: プロバイダーに接続できない

**解決策**:
- APIキーが正しいか確認
- 環境変数が正しく設定されているか確認
- プロバイダーのダッシュボードでAPIキーの状態を確認

### 認証エラー

**症状**: 認証が失敗する

**解決策**:
- APIキーが有効か確認
- APIキーの権限を確認
- プロバイダーのアカウントがアクティブか確認

## 関連リンク

- [モデルの追加](/docs/ai/adding-a-model)
- [AI SDK](/docs/ai-sdk)
- [AI Gateway](/docs/ai-gateway)
- [利用可能なプロバイダー](/docs/ai)
