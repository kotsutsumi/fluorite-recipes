# Edge Config の制限と価格

## 概要

Edge Configは、グローバルデータストアで、以下のユースケースを可能にします：

- フィーチャーフラグ
- A/Bテスト
- 重要なリダイレクト
- IPブロッキング

ストアの数は最小限に抑えることが推奨されています。少数の大きなストアが全体的な待ち時間を改善します。

## 価格

### 管理インフラストラクチャのホビーおよびプランのリソース

| リソース | ホビー含有 | オンデマンド料金 |
|----------|------------|-----------------|
| Edge Config 読み取り | 最初の100,000回 | $3.00/1,000,000回 |
| Edge Config 書き込み | 最初の100回 | $5.00/500回 |

## プランごとの制限

| 制限 | ホビー | Pro | エンタープライズ |
|------|--------|-----|-----------------|
| 最大ストアサイズ | 8 KB | 64 KB | 512 KB (カスタマーサクセスに連絡で上限引き上げ可) |
| ストア総数 | 1 | 3 | 10 (カスタマーサクセスに連絡で上限引き上げ可) |
| プロジェクトごとの接続可能ストア数 | 1 | 3 | 3 |
| 項目キー名の最大長 | 256文字 | 256文字 | 256文字 |
| 書き込み伝播 | グローバルで最大10秒 | グローバルで最大10秒 | グローバルで最大10秒 |
| バックアップ保持期間 | 7日間 | 30日間 | 90日間 |

## 詳細な制限

### ストアサイズ

- **ホビープラン**: 最大8 KB
- **Proプラン**: 最大64 KB
- **エンタープライズプラン**: 最大512 KB（さらに大きなサイズが必要な場合はカスタマーサクセスに連絡）

### 項目数

制限はありませんが、ストアサイズの制限内に収める必要があります。

### キー名の長さ

すべてのプランで最大256文字です。

### 値のサイズ

個々の値のサイズに制限はありませんが、ストア全体のサイズ制限内に収める必要があります。

## 読み取り制限

### edge-config.vercel.com エンドポイント

- **レート制限**: なし
- **レイテンシー**: P99で15ms以下、多くの場合1ms未満

### api.vercel.com エンドポイント

- **レート制限**: 1分間に20回
- **用途**: 管理操作用

## 書き込み制限

### 書き込み頻度

- グローバルな伝播には最大10秒かかる場合があります
- 頻繁な書き込みには向いていません

### 書き込み操作

- 同時書き込みは順次処理されます
- 1回のAPIリクエストで複数の操作（create、update、delete）を実行できます

## バックアップ

| プラン | 保持期間 |
|--------|---------|
| ホビー | 7日間 |
| Pro | 30日間 |
| エンタープライズ | 90日間 |

### バックアップの頻度

- 書き込み操作ごとに自動的にバックアップが作成されます
- 手動バックアップは作成できません

## 使用量の監視

### ダッシュボードでの確認

1. プロジェクトまたはチームダッシュボードにアクセス
2. 「使用状況」タブを選択
3. Edge Config関連のメトリクスを確認

### メトリクス

- 読み取り回数
- 書き込み回数
- ストレージサイズ
- 最終更新日時

## コスト最適化のヒント

### ストレージサイズの最適化

- 必要なデータのみを保存
- 大きなデータはBlobストレージなど他のサービスを使用
- 定期的に不要なキーを削除

### 読み取りの最適化

- Edge Config SDKを使用（最適化されたエンドポイントを自動使用）
- 適切なキャッシュ戦略を実装
- 必要なキーのみを取得

### 書き込みの最適化

- 複数の変更を1回のAPIリクエストにまとめる
- 不要な書き込みを避ける
- バッチ更新を使用

## プラン別の推奨使用パターン

### ホビープラン

- 小規模なフィーチャーフラグ
- シンプルな設定
- 個人プロジェクト

### Proプラン

- 中規模なアプリケーション
- 複数のプロジェクト
- より複雑な設定

### エンタープライズプラン

- 大規模なアプリケーション
- 多数のプロジェクト
- 高度な設定と大量のデータ

## 制限の引き上げ

エンタープライズプランでさらに大きな制限が必要な場合は、Vercelのカスタマーサクセスチームに連絡してください：

- ストアサイズの増加
- ストア数の増加
- カスタムバックアップ保持期間

## 次のステップ

- [Edge Config SDK](/docs/edge-config/edge-config-sdk)でデータを読み取る
- [Vercel API](/docs/edge-config/vercel-api)でデータを書き込む
- [統合](/docs/edge-config/edge-config-integrations)を探索
