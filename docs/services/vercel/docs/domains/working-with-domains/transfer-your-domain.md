# ドメインの転送

ドメインを転送する様々なシナリオについて説明します。

## ドメイン転送の4つのシナリオ

### 1. 別のVercelユーザー/チームへの転送

#### 手順

1. ダッシュボードのDomainsタブに移動
2. 移動するドメインを選択
3. 移送先のチーム/プロファイルを選択
4. 転送を確認

#### 重要な注意事項

- Team Ownerのみが転送を実行可能
- 既存のプロジェクトドメインはそのまま残る

### 2. プロジェクト間でのドメイン転送

#### 方法

- ダッシュボード経由で転送可能

#### 注意点

- サイトのダウンタイムが発生する可能性がある

#### ゼロダウンタイムアプローチ

詳細なガイドを参照することを推奨します。

**推奨手順**:
1. SSL証明書の事前生成
2. レジストラでDNSレコードを設定
3. 本番ドメインでデプロイ

### 3. Vercelからドメインを転送（転出）

#### ICANN 60日ルール

ドメインは、登録後60日間は転送できません。

#### 手順

1. **認証コードの取得**
   - Domainsタブから認証コード（Authorization Code）を取得

2. **新しいレジストラでコードを使用**
   - 転送先レジストラで認証コードを入力

3. **転送の完了を待つ**
   - 転送には最大1週間かかる場合がある

#### 転送前の準備

- ドメインが60日以上登録されているか確認
- 重要なDNSレコードをバックアップ

### 4. Vercelへのドメイン転送（転入）

#### 前提条件

1. **60日登録ルールの確認**
   - ICANN規則により、ドメインは現在のレジストラで60日以上登録されている必要がある

2. **ドメインのロック解除**
   - 現在のレジストラでドメインのロックを解除

3. **認証コードの取得**
   - 現在のレジストラから認証コードを取得

#### 転送方法

##### A. ダッシュボード経由

1. Domainsタブに移動
2. **Transfer Domain**を選択
3. ドメイン名と認証コードを入力
4. 転送を確認

##### B. Vercel CLI経由

```bash
vercel domains transfer-in [domain]
```

**例**:

```bash
vercel domains transfer-in example.com
```

コマンド実行後、認証コードの入力を求められます。

#### 転送後の設定

1. **DNSレコードの設定**
   - 必要なDNSレコードを設定

2. **SSL証明書の設定**
   - Vercelが自動的にSSL証明書を生成

3. **検証**
   - ドメインが正しく機能しているか確認

## ICANN 60日ルール

### ルールの内容

ICANNは、ドメインが60日間登録されてから転送することを要求します。

### 適用シナリオ

- 新規ドメイン登録後
- レジストラ間の転送後

### 例外

一部のレジストラは、特定の状況で例外を許可する場合があります。

## 転送時の考慮事項

### カスタムエイリアスの削除

転送中に、一部のカスタムエイリアスが削除される可能性があります。

### プロジェクトドメインの維持

既存のプロジェクトドメインは、転送中も維持されます。

### ダウンタイムの最小化

ゼロダウンタイム転送のベストプラクティス:

1. **SSL証明書の事前生成**
2. **DNS設定の準備**
3. **転送タイミングの計画**

## ベストプラクティス

### 1. 転送前の準備

- DNSレコードのバックアップ
- 認証コードの取得
- 60日ルールの確認

### 2. ダウンタイムの計画

低トラフィック時間帯に転送を実行します。

### 3. 通知

チームメンバーやユーザーに転送について通知します。

### 4. 検証

転送後、すべての機能が正しく動作しているか確認します。

## トラブルシューティング

### 転送が開始できない

- 60日ルールを確認
- ドメインのロック状態を確認
- 認証コードの正確性を確認

### 転送が完了しない

- 現在のレジストラに連絡
- Vercelサポートに連絡
- 転送ステータスを確認

### DNS解決の問題

- DNSレコードが正しく設定されているか確認
- DNS伝播を待つ（最大48時間）

## 関連ドキュメント

- [ドメインの追加](/docs/domains/working-with-domains/add-a-domain)
- [ドメインの削除](/docs/domains/working-with-domains/remove-a-domain)
- [SSL証明書の事前生成](/docs/domains/pre-generating-ssl-certs)
- [Registrar API](/docs/domains/registrar-api)

## まとめ

ドメイン転送は、適切な準備と計画により、スムーズに実行できます。ICANN 60日ルールを遵守し、ダウンタイムを最小化するためのベストプラクティスに従うことが重要です。
