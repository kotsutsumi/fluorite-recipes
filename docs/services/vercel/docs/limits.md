# 制限

## 一般的な制限

プラットフォームの悪用を防ぐため、すべてのアカウントに以下の制限を適用しています。

| 項目 | Hobby | Pro | Enterprise |
|------|-------|-----|------------|
| プロジェクト | 200 | 無制限 | 無制限 |
| 1日あたりのデプロイメント作成数 | 100 | 6,000 | カスタム |
| デプロイメントあたりのサーバーレス関数作成数 | [フレームワーク依存*](/docs/functions/runtimes#functions-created-per-deployment) | ∞ | ∞ |
| [プロキシリクエストタイムアウト](#proxied-request-timeout)（秒） | 120 | 120 | 120 |
| CLIからの週間デプロイメント数 | 2,000 | 2,000 | カスタム |
| [Gitリポジトリに接続するVercelプロジェクト数](#connecting-a-project-to-a-git-repository) | 10 | 60 | カスタム |
| [デプロイメントあたりのルート数](#routes-created-per-deployment) | 2,048 | 2,048 | カスタム |
| [デプロイメントあたりのビルド時間](#build-time-per-deployment)（分） | 45 | 45 | 45 |
| [静的ファイルアップロード](#static-file-uploads) | 100 MB | 1 GB | 該当なし |
| [並行ビルド](/docs/deployments/concurrent-builds) | 1 | 12 | カスタム |
| ディスクサイズ（GB） | 23 | [23または56](/docs/deployments/configure-a-build#disk-size) | カスタム |

\* Next.js、Nuxt、SvelteKitなどのメタフレームワークは、[ルートセグメント](https://nextjs.org/docs/app/building-your-application/routing/defining-routes#route-segments)あたり1つの関数を作成します。ミドルウェアが存在する場合は追加の関数が作成されます。

## デプロイメント制限

### ビルド時間

| プラン | ビルド時間制限 |
|------|--------------|
| Hobby | 45分 |
| Pro | 45分 |
| Enterprise | 45分（カスタム可） |

**ビルド時間の最適化**:
- 不要な依存関係を削除
- ビルドキャッシュを活用
- 並列処理を使用

### デプロイメントサイズ

| リソース | 制限 |
|---------|------|
| ソースファイル（圧縮前） | 制限なし |
| ソースファイル（圧縮後） | 100 MB (Hobby) / 1 GB (Pro) |
| サーバーレス関数サイズ | 50 MB（圧縮） |
| エッジ関数サイズ | 1 MB（圧縮） |

### ルート数

デプロイメントあたり最大2,048のルート。

**ルートの例**:
```json
{
  "routes": [
    { "src": "/api/(.*)", "dest": "/api/$1" },
    { "src": "/blog/(.*)", "dest": "/blog/$1" }
  ]
}
```

### 静的ファイルアップロード

| プラン | 制限 |
|------|------|
| Hobby | 100 MB |
| Pro | 1 GB |
| Enterprise | カスタム |

## サーバーレス関数の制限

### 実行時間

| プラン | タイムアウト |
|------|----------|
| Hobby | 10秒 |
| Pro | 60秒 |
| Enterprise | 900秒 |

**タイムアウトの設定**:
```typescript
// vercel.json
{
  "functions": {
    "api/long-task.ts": {
      "maxDuration": 60
    }
  }
}
```

### メモリ

| プラン | メモリ制限 |
|------|----------|
| Hobby | 1024 MB |
| Pro | 1024 - 3008 MB |
| Enterprise | カスタム |

**メモリの設定**:
```json
{
  "functions": {
    "api/heavy-task.ts": {
      "memory": 3008
    }
  }
}
```

### ペイロードサイズ

| タイプ | 制限 |
|------|------|
| リクエストボディ | 4.5 MB |
| レスポンスボディ | 4.5 MB |

### 並行実行数

アカウント全体で最大1,000の同時実行。

## エッジ関数の制限

### 実行時間

すべてのプランで30秒。

### メモリ

すべてのプランで128 MB。

### CPU時間

リクエストあたり50ミリ秒のCPU時間。

### サイズ

圧縮後1 MB。

## 帯域幅と転送

### データ転送

| プラン | 含まれる転送量 |
|------|--------------|
| Hobby | 100 GB/月 |
| Pro | 1 TB/月 |
| Enterprise | カスタム |

**追加料金**:
- Pro: $40/TB
- Enterprise: カスタム

### リクエスト制限

実行時間ベースの課金、リクエスト数に制限なし。

## 環境変数

### 数量制限

| タイプ | 制限 |
|------|------|
| プロジェクトごと | 無制限 |
| サイズ | 1つあたり4 KB |
| 合計サイズ | 64 KB |

### 暗号化

すべての環境変数は暗号化されて保存されます。

## ログとモニタリング

### ログ保持期間

| プラン | 保持期間 |
|------|---------|
| Hobby | 1日 |
| Pro | 1日 |
| Enterprise | カスタム |

### ログドレイン

| プラン | 利用可能性 |
|------|----------|
| Hobby | 不可 |
| Pro | 可 |
| Enterprise | 可 |

## ドメインとDNS

### カスタムドメイン

| プラン | 制限 |
|------|------|
| Hobby | プロジェクトごとに50 |
| Pro | プロジェクトごとに100 |
| Enterprise | カスタム |

### DNSレコード

プロジェクトごとに1,000レコード。

## チームとアクセス

### チームメンバー

| プラン | メンバー数 |
|------|----------|
| Hobby | 該当なし（個人のみ） |
| Pro | 無制限 |
| Enterprise | 無制限 |

### 同時ビルド

| プラン | 並行ビルド数 |
|------|------------|
| Hobby | 1 |
| Pro | 12 |
| Enterprise | カスタム |

## Git統合

### リポジトリ接続

| プラン | 制限 |
|------|------|
| Hobby | リポジトリごとに10プロジェクト |
| Pro | リポジトリごとに60プロジェクト |
| Enterprise | カスタム |

## プロキシリクエストタイムアウト

すべてのプランで120秒。

**例**:
```typescript
// Next.js API Route
export default async function handler(req, res) {
  // 外部APIへのリクエスト
  const response = await fetch('https://slow-api.example.com', {
    signal: AbortSignal.timeout(100000) // 100秒でタイムアウト
  });

  const data = await response.json();
  res.json(data);
}
```

## レート制限

### API リクエスト

| エンドポイント | 制限 |
|--------------|------|
| REST API | 100リクエスト/秒 |
| GraphQL | 100リクエスト/秒 |

### デプロイメント

| プラン | 1日あたりのデプロイメント |
|------|---------------------|
| Hobby | 100 |
| Pro | 6,000 |
| Enterprise | カスタム |

## ストレージ

### KVストレージ

| プラン | ストレージ | リクエスト |
|------|----------|-----------|
| Hobby | 256 MB | 10万/日 |
| Pro | 512 MB - 1 TB | 100万/日 |
| Enterprise | カスタム | カスタム |

### Blobストレージ

| プラン | ストレージ |
|------|----------|
| Hobby | 制限なし（使用量ベース課金） |
| Pro | 制限なし（使用量ベース課金） |
| Enterprise | カスタム |

## Webhook

### 配信

| タイプ | タイムアウト | リトライ |
|------|----------|---------|
| デプロイメント | 30秒 | 3回 |
| 統合 | 30秒 | 3回 |

## 制限の引き上げ

制限の引き上げが必要な場合：

1. **Proプランへのアップグレード**: 多くの制限が引き上げられます
2. **Enterpriseプランへの連絡**: カスタム制限が必要な場合
3. **サポートへの問い合わせ**: 特定の制限についての相談

**問い合わせ方法**:
- [Vercel サポート](https://vercel.com/support)
- [Enterprise Sales](https://vercel.com/contact/sales)

## ベストプラクティス

### 制限内での最適化

1. **ビルド最適化**: 不要な処理を削減
2. **関数サイズの削減**: 依存関係を最小化
3. **キャッシング活用**: 再ビルドを避ける
4. **効率的なコード**: パフォーマンス最適化

### モニタリング

```bash
# 使用量の確認
vercel inspect [deployment-url]

# ログの確認
vercel logs [deployment-url]
```

## 関連リソース

- [フェアユースガイドライン](/docs/limits/fair-use-guidelines)
- [価格プラン](https://vercel.com/pricing)
- [Vercel サポート](https://vercel.com/support)
