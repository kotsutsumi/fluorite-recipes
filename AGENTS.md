# リポジトリガイドライン

## プロジェクト構造とモジュール構成
本番アプリケーションは `apps/base` にあり、Next.js 15 App Routerプロジェクトです。ページとレイアウトは `apps/base/src/app` に配置され、`layout.tsx` が共有レイアウトを定義し、`page.tsx` がデフォルトルートを提供します。再利用可能なUIは `src/app` 内の機能フォルダにグループ化し、静的アセットは `apps/base/public` に保存し、グローバルスタイルは `apps/base/src/app/globals.css` で管理します。このファイルはTailwind CSS v4をインポートし、共有トークンを定義します。

## ビルド、テスト、開発コマンド
すべてのコマンドは `apps/base` から実行します。`npm run dev`（または `pnpm dev`）を使用して、`http://localhost:3000` でTurbopack開発サーバーを起動します。`npm run build` でリリースバンドルをビルドし、`npm run start` で配信します。`npm run format` でフォーマットを統一し、`npm run lint` を使用してBiomeのlintスイートを実行し、コミット前にチェックします。

## コーディングスタイルと命名規則
このコードベースは `strict` モードを有効にしたTypeScript 5を対象としています。実用的な場合は型付きReact関数コンポーネントとサーバーコンポーネントを優先します。Biomeは2スペースインデント、インポート順序、フォーマットを強制します—PRを開く前に実行してください。`apps/base/src` 以下のファイルには `@/*` エイリアス（`tsconfig.json` で設定）を使用します。Tailwindユーティリティは論理的順序（layout → spacing → typography）でグループ化し、`globals.css` のCSS変数を色とフォントの基準として扱います。

## テストガイドライン
自動テストはまだ設定されていません。新機能では、Vitest と React Testing Library を `npm run test` スクリプトとともに導入し、将来の作業で同じハーネスを共有できるようにする必要があります。仕様は `*.test.tsx` としてコンポーネントの隣、またはローカルの `__tests__` フォルダ内に配置します。新規コードで80%以上のカバレッジを目指し、ルーティングや非同期フローの統合スモークテストを追加し、PRで新しいスイートの実行方法を文書化します。

## コミットとプルリクエストガイドライン
履歴はConventional Commits（`feat: …`）を使用しており、このスタイルを継続する必要があります（例：`fix:`、`chore:`）。コミットは狭い範囲に保ち、プッシュ前にlint/formatスクリプトが通過することを確認します。プルリクエストは変更を説明し、関連するissueをリンクし、UIの変更が見える場合はスクリーンショットを含める必要があります。メンテナーが後続作業を計画できるよう、フォローアップタスクや技術的負債を明記します。

## 環境とツールに関する注意事項
Next.js 15にはNode.js 18.18+または20.xが必要です。ローカル環境を適切に調整してください。依存関係は、変更するロックファイルに一致するパッケージマネージャーでインストールします（`pnpm install` が推奨、`package-lock.json` を触る場合は `npm ci` が使用可能）。`node_modules` はバージョン管理から除外し、Biomeを使用してエディタ固有のlintの差異を回避します。
